{"version":3,"sources":["redditapi.js","index.js"],"names":["search","searchterm","sortby","limit","fetch","then","response","json","data","children","map","searchform","document","getElementById","searchinput","addEventListener","e","value","querySelector","showerror","reddit","console","log","html","forEach","post","image","preview","images","source","url","title","shorten","selftext","score","subreddit_subscribers","ups","innerHTML","preventDefault","message","classname","div","createElement","className","appendChild","createTextNode","container","card","insertBefore","setTimeout","style","display","text","textlimit","length","substring","indexOf"],"mappings":"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","file":"Reddit Search App.e31bb0bc.js","sourceRoot":"..","sourcesContent":["export default{\r\n    search: function(searchterm,sortby,limit){\r\n        return fetch(`http://www.reddit.com/search.json?q=${searchterm}&sort=${sortby}&limit=${limit}`)\r\n        .then(response => response.json())\r\n        .then(data => data.data.children.map(data=>data.data))\r\n    }\r\n}","import reddit from './redditapi'\r\n\r\n//grab the ids in the index.html\r\nlet searchform = document.getElementById('search-form')\r\nlet searchinput = document.getElementById('search-input')\r\nlet limit = document.getElementById('limit');\r\n\r\n//add submit event listener to the form\r\nsearchform.addEventListener('submit', e => {\r\n    const searchterm = searchinput.value;\r\n    limit = limit.value;\r\n    const sortby = document.querySelector('input[name=\"sortby\"]:checked').value;\r\n    //call showerror function if the serach term is empty\r\n    if (searchterm === '') {\r\n        showerror(\"Please enter the search term\", \"alert-danger\")\r\n    }\r\n    //call  the reddit api\r\n    reddit.search(searchterm, sortby, limit)\r\n        .then(data => {\r\n            console.log(data)\r\n            let html = ''\r\n            data.forEach(post => {\r\n                let image = post.preview ? post.preview.images[0].source.url : 'https://lh3.googleusercontent.com/proxy/jXF1EnIcWuxNL8hVHrgmnuAadZyD0MXwVadsva-R8py1xvysIXW2PD7CkmD7JA5e9yC4uGD-KIov2Ezz6vKL_ojdcBz37gxnYglT9RYGQL4xYc-6tS2KHd0Re7d8Kcqk';\r\n                html += `<div class=\"card col-lg-3 col-md-4 col-sm-12 mb-2 shadow p-4 mb-4 bg-white\">\r\n        <img class=\"card-img-top\" src=\"${image}\" alt=\"Card image\">\r\n        <div class=\"card-body\">\r\n          <h4 class=\"card-title\" style=\"font-family: 'Pangolin', cursive;\">${post.title}</h4>\r\n          <p class=\"card-text\" style=\"font-family: 'Montserrat', sans-serif;\">${shorten(post.selftext, 100)}</p>\r\n          \r\n          <span class=\"badge badge-pill badge-primary\">scores:${post.score}</span>\r\n        <span class=\"badge badge-pill badge-success\">subscribers:${post.subreddit_subscribers}</span>\r\n        <span class=\"badge badge-pill badge-secondary\">ups:${post.ups}</span><br>\r\n          <a href=\"${post.url}\" class=\"btn btn-primary mt-4\">Read More</a>\r\n        </div>\r\n        </div>`\r\n            });\r\n            document.getElementById('results').innerHTML = html\r\n            searchinput.value = '';\r\n\r\n        });\r\n    e.preventDefault();\r\n});\r\n//display the error message\r\nfunction showerror(message, classname) {\r\n\r\n    //create the danger alert message div\r\n    let div = document.createElement('div');\r\n    div.className = ` mt-2 alert ${classname}`;\r\n    div.appendChild(document.createTextNode(message))\r\n    let container = document.getElementById('container');\r\n    let card = document.getElementById('card');\r\n\r\n    //insert the error html \r\n    container.insertBefore(div, card);\r\n\r\n    //hide the error msg after 3 sec\r\n    setTimeout(() => {\r\n        div.style.display = 'none';\r\n    }, 3000);\r\n\r\n}\r\n\r\nfunction shorten(text, textlimit) {\r\n    if (text.length == 0) {\r\n        return text;\r\n    }\r\n    else {\r\n        return text.substring(0, text.indexOf(' ', textlimit))\r\n    }\r\n\r\n}"]}